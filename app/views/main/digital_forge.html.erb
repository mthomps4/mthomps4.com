<main>
  <% set_meta_tags title: "Blog",
      desctription: "The digital forge is a place where I share my thoughts and ideas on software development, technology, and other topics that interest me. I hope you find something useful here."
  %>
  <div class="flex w-full md:w-3/4 mx-auto flex-col items-center md:flex-row md:justify-between">
    <%= image_tag "lion-logo.png", class: "w-40 h-40 aspect-square" %>
    <div>
      <h1 class="text-4xl text-brand-blue-700 dark:text-brand-blue-50 font-light text-center m-0"><%= @title %></h1>
      <p class="ml-4 text-center"> The digital forge is a place where I share my thoughts and ideas on software development, technology, and other topics that interest me. I hope you find something useful here. </p>
    </div>
  </div>
  <section class="my-4 flex justify-center w-full">
    <div class="w-full md:w-3/4">
      <%= render 'shared/post_search' %>
    </div>
  </section>
  <section id="posts" class="">
    <% @posts.each do |post| %>
      <%= link_to post, class: "no-underline" do %>
        <div class="mx-2 sm:h-[200px] flex flex-col sm:flex-row justify-between bg-gradient-to-br from-brand-blue-50 to-brand-blue-200 dark:from-brand-blue-700 dark:to-brand-blue-950 border-[1px] border-brand-blue-300 dark:border-brand-blue-400 rounded-lg text-brand-blue-950 dark:text-brand-blue-100 hover:border-2 hover:border-brand-blue-500">
          <%= image_tag post.featured_image.small_og.url || asset_path('lion-logo.png'), class: 'sm:hidden w-full aspect-video rounded-tl-lg rounded-tr-lg' %>
          <%= image_tag post.featured_image.square.url || asset_path('lion-logo.png'), class: 'hidden sm:block h-full max-h-[200px] rounded-tl-lg rounded-bl-lg max-w-1/3' %>
          <div class="mx-2 sm:mx-4 flex flex-col justify-between">
            <h2 class="text-xl font-normal sm:font-light sm:text-3xl break-words mt-2 mb-0"><%= post.title %></h2>
            <p class="line-clamp-2 text-ellipsis"><%= post.description %></p>
            <p class="text-xs text-right"><%= post.published_on.strftime("%b %d, %Y") %></p>
          </div>
        </div>
      <% end %>
    <% end %>
  </section>
  <section class="w-full">
    <%= paginate @posts %>
  </section>
  <% if @posts.empty? %>
    <div class="flex justify-center items-center h-96">
      <p class="text-2xl text-brand-blue-700 dark:text-brand-blue-50">No Posts Yet... Stay tuned.</p>
    </div>
  <% end %>
</main>
